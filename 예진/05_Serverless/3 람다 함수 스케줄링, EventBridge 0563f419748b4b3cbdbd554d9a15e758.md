# 3. 람다 함수 스케줄링, EventBridge

<br>

### 실습

---

**목표**

람다 함수를 1분에 한 번씩 실행

<br>

**해결**

EventBridge 서비스가 함수를 호출할 수 있도록 람다 함수에 권한 추가 → 일정 표현식을 사용해 함수를 대상으로 1분에 한 번씩 실행하도록 EventBridge 규칙을 구성

“람다 함수의 시간 기반 호출을 트리거 하는 EventBride를 생성하자!”

1. 일정 `rate(1 minute)` 표현식을 사용해 이벤트 규칙 생성
2. EventBridge 서비스가 호출할 수 있도록 람다 함수에 권한 추가 `aws lambda add-permission`
   1. `lambda:InvokeFunction`
   2. `events.amazonaws.com`
3. 생성한 규칙을 대상으로 람다 함수를 추가 `aws events put-targets`

<br>

**유효성 검사**

CloudWatch Logs 로그 그룹을 통해 60초마다 함수가 호출되는지 확인

<br><br>

### 정리

---

일정에 따라 함수를 실행할때 수행할 수 있는 작업

1. 주가 확인
2. 날씨 확인
3. 예약된 프로세스 시작
4. EC2 시작 및 중지 예약

- 리소스를 프로비저닝하지 않고도 일정에 따라 서버리스 기능을 실행할 수 있으므로 비용과 관리를 최소한으로 유지
- 서버를 업데이트 할 필요가 없어 유휴 상태 일때 비용을 지불할 필요가 없다.

<br><br>

### EventBridge

---

- 이벤트 기반 서비스
- 다양한 AWS 서버리스 서비스와 연계해 이벤트 생성 및 전달
- lambda 함수와 같이 많이 사용되는데, 이벤트가 발생하면 해당 lambda 함수를 실행하여 이벤트 데이터를 처리하는 방식으로 활용
