# 7. DMS를 사용해 데이터베이스를 RDS로 마이그레이션 하기

### 실습

---

목표 : 원본 데이터베이스에서 대상 데이터베이스로 데이터를 이동

해결 방법 : **DMS가 데이터베이스에 연결할 수 있도록** VPC 보안 그룹 및 IAM 권한을 구성 → 원본 및 대상 데이터베이스에 대한 **DMS 엔드포인트**를 구성 → **DMS 복제 작업**을 구성 → 복제 작업 시작

- DMS 보안 그룹에 원본 및 대상 데이터베이스의 TCP 포트 3306에 대한 액세스 권한을 부여
- DMS 역할 생성
- `AmazonDMSVPCManagementRole` : 관리형 DMS 정책을 역할에 연결
- 복제 인스턴스에 대한 복제 서브넷 그룹 생성 + 복제 인스턴스 생성
  - `ReplicationInstanceStatus` 가 사용 가능 상태가 될 때까지 기다린다.
- DMS에 대한 원본, 대상 엔드포인트를 생성 → ARN을 변수에 저장
- 복제 작업을 생성
  - 작업 상태가 `ready` 상태로 변경될 때까지 기다림
- 복제 작업 시작
- `aws dms describe-replication-tasks`명령어를 사용해 테이블이 마이그래이션 됐는지 확인

<Br>
<br>

### AWS DMS : Database Migration Service

---

- **데이터베이스 마이그레이션 서비스**
- 서로 다른 데이터베이스 엔진 간에 데이터를 안전하게 이전
- 대규모 데이터 마이그레이션을 관리
- 데이터베이스를 복제하고 스키마 변환 수행
- 같은 VPC, 다른 AWS 계정 또는 AWS 환경이 아닌 곳의 여러 유형의 원본 및 대상 데이터베이스를 지원
