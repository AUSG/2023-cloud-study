# 8. RDS 데이터 API를 사용해 Aurora Serverless에 대한 REST 액세스 활성화

### 실습

---

목표 : 애플리케이션이 PostgreSQL 데이터베이스에 대한 연결을 관리하지 않고 접속할 수 있는 방법을 찾자

해결방법 : 데이터베이스에 대한 데이터 API를 활성화 → EC2 인스턴스에 대한 IAM 권한을 구성 → CLI 및 RDS 콘솔에서 테스트

이렇게 하면, 애플리케이션이 Aurora Serverless 데이터베이스에 연결할 수 있다.

- Aurora Serverless 클러스터에서 데이터 API를 활성화
- `HTTPEndpointEnabled = true`인지 확인
- 관리자 권한으로 콘솔에 로그인하여 `RDS → 쿼리 편집기 → 데이터베이스에 연결`을 클릭한다.
- 데이터베이스 클러스터의 Data API를 사용하도록 EC2 인스턴스를 구성
      IAM 정책을 생성하고 EC2 인스턴스의 IAM 역할에 연결

      <Br>
  <br>

### Aurora Serverless

---

- AWS의 관리형 관계형 데이터베이스 서비스 중 하나
- 서버리스 아키텍처를 기반으로 확장성과 유연성을 제공
- 기존의 Aurora 데이터베이스는 클라우드에서 실행되는 전통적인 관계형 데이터베이스
- 반면, Aurora Serverless는 데이터베이스가 실행되는 컴퓨팅 리소스를 동적으로 조정할 수 있는 서버리스 아키텍처를 사용
- 데이터베이스 작업량이 변하는 경우 자동으로 적절한 크기로 조정
- 서버리스 아키텍처를 기반으로 하기 때문에, 서버 운영, 확장성 및 가용성과 같은 측면에서 매우 편리

<Br>
<br>

### 정리

---

- `데이터 API`를 사용하면 애플리케이션이 기존 TCP 데이터베이스 연결을 사용하는 대신 Aurora의 HTTPS 엔드포인트를 노출하고 IAM 인증을 사용해 **HTTPS를 통해 데이터베이스에서 SQL문을 실행**할 수 있다.
- 데이터 API로 수행하는 모든 활동은 CloudTrail에서 캡처된다.
- RDS 콘솔내의 쿼리 편집기를 사용하면 웹 기반으로 SQL 쿼리를 실행할 수 있다.
